<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_mario_big_walk</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-5</depth>
  <persistent>0</persistent>
  <parentName>obj_playerparent</parentName>
  <maskName>spr_bigmask</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///It's a me, Mario.

//Call parent variables
event_inherited();

//Maximum horizontal speed
xspeedmax = 1.5;

//Jump strength
jumpstr = 3.4675;
frogjumpstr = 3.7675;

//Acceleration
acc = 0.05;

//Acceleration (frog suit)
accfrog = 0.12;

//Acceleration (when turning)
accskid = 0.15;

//Deceleration
dec = 0.0375;

//Deceleration (when turning)
decskid = 0.072;

//Gravity
grav = 0.3; //0.3625

//Gravity when jumping
grav_alt = 0.065; //0.0625

//Acceleration (when swimming)
acc_swim = 0.025;

//Acceleration (when turning at water)
accskid_swim = 0.05;

//Deceleration (when swimming)
dec_swim = 0.007;

//Gravity (when swimming)
grav_swim = 0.03;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Handle particle effects

//If Mario is turning, sliding and it's on contact with the ground.
if (sprite_index == scr_mario_skid()) || ((sliding) &amp;&amp; (state &lt; 2)) {

    //If Mario is not crouched down
    if (!crouch) {
    
        alarm[10] = 4;
        with (instance_create(x,bbox_bottom,obj_smoke))
            sprite_index = spr_smoke_c;
    }
    
    //Otherwise, hold it
    else
        alarm[10] = 1;
}

//Otherwise, hold it
else
    alarm[10] = 1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Mario's animation

//If Mario is crouched down
if (crouch == true) {

    //If Mario has the leaf or tanooki powerups
    if ((global.powerup == cs_leaf) || (global.powerup == cs_tanooki)) {
    
        //Do not animate unless the script permits it.
        image_speed = 0;
    
        //Check if Mario is holding something first.
        if (holding == 0)
            image_index = 0+(wiggle/4);
        else if (holding == 2)
            image_index = 5+(wiggle/4);
        else
            image_index = 4;
    }
    else {
    
        //Do not animate
        image_speed = 0;
        
        //Set up the correct frame
        if (holding = 0)
            image_index = 0;
        else {
        
            if (holding == 2)
                image_index = 2;
            else
                image_index = 1;
        }
    }
    
    //Set the sprite
    sprite_index = scr_mario_duck();
    
    //Do not skid
    skidnow = 0;
    
    //Set the mask
    mask_index = spr_mask;
    
    //Stop 'Skid' sound
    if (audio_is_playing(snd_skid))
        audio_stop_sound(snd_skid);
}
else {

    //Check if Mario does have a shooting frame
    if (firing &gt; 0) {
    
        if (sprite_index == scr_mario_shoot())   
            firing--;
        else   
            firing = 0;
    }
        
    //If Mario is not holding anything
    if (holding == 0) {
    
        //If Mario is not sliding down a slope
        if (!sliding) {
        
            //If Mario is not kicking/throwing something.
            if (!kicking) {
            
                //If Mario is not doing anything
                if (state == 0) {
                
                    //If Mario is firing something
                    if (firing &gt; 0) {
                    
                        //Set the sprite
                        sprite_index = scr_mario_shoot();
                        
                        //Do not animate
                        image_speed = 0;
                        
                        //...but set the appropiate frame
                        if (firing &gt; 4)
                            image_index = 1;
                        else
                            image_index = 2;
                    }
                    else {
                    
                        //Set the sprite
                        sprite_index = scr_mario_walk();
                        
                        //Do not animate
                        image_speed = 0;
                        image_index = 0;
                    }
                }
                
                //Otherwise, if Mario is walking
                else if (state == 1) {
                
                    //Check first the horizontal speed and facing direction of Mario.
                    if ((((xspeed &gt; 0.1) &amp;&amp; (xscale == -1))
                    || ((xspeed &lt; -0.1) &amp;&amp; (xscale == 1)))
                    &amp;&amp; (!swimming)
                    &amp;&amp; (global.powerup != cs_frog)
                    &amp;&amp; (!collision_rectangle(bbox_left,bbox_bottom,bbox_right,bbox_bottom+1,obj_slippery,0,0))) {
                    
                        //Set the skidding sprite
                        sprite_index = scr_mario_skid();
                        
                        //Do not animate
                        image_speed = 0;
                        image_index = 0;
                        
                        //Play 'Skid' sound
                        if (!audio_is_playing(snd_skid))
                            audio_play_sound(snd_skid, 0, true);
                    }
                    
                    //Set the animation speed
                    else {
                        
                        //If Mario does not have the frog powerup
                        if (global.powerup != cs_frog)
                        &amp;&amp; (global.powerup != cs_penguin)
                            image_speed = scr_inice() * 0.065+abs(xspeed)/7.5;
                            
                        //Otherwise, if Mario does have the frog suit.
                        else if (global.powerup == cs_frog) {
                            
                            //If Mario is swimming
                            if (swimming) {
                            
                                //If Mario is not holding anything.
                                if (holding == 0) {
                                
                                    if (xspeed == 0)
                                        image_speed = 0.1;
                                    else
                                        image_speed = 0.1+(0.1*keyboard_check(vk_control));
                                }
                                else
                                    image_speed = scr_inice() * 0.065+abs(xspeed)/7.5;
                            }
                            
                            //Otherwise, if Mario is not swimming
                            else {
                            
                                if (holding == 0)
                                    image_speed = 0.1;
                                else
                                    image_speed = scr_inice() * 0.065+abs(xspeed)/7.5;
                            }                        
                        }
                        
                        //Otherwise, if Mario does have the penguin suit.
                        else if (global.powerup == cs_penguin) {
                            
                            //If Mario is swimming
                            if (swimming) {
                            
                                //If Mario is not holding anything.
                                if (holding == 0) {
                                
                                    if (xspeed == 0)
                                        image_speed = 0.1;
                                    else
                                        image_speed = 0.1+(0.1*keyboard_check(vk_control));
                                }
                                else
                                    image_speed = scr_inice() * 0.065+abs(xspeed)/7.5;
                            }
                            
                            //Otherwise, if Mario is not swimming
                            else
                                image_speed = scr_inice() * 0.065+abs(xspeed)/7.5;                         
                        }
                    
                        //If Mario is running
                        if (run)                      
                            sprite_index = scr_mario_run();
                        else {
                                             
                            if ((global.powerup == cs_frog)
                            || (global.powerup == cs_penguin))
                            &amp;&amp; (swimming)
                                sprite_index = scr_mario_swim();
                            else
                                sprite_index = scr_mario_walk();
                        }
                    }
                }
                
                //Otherwise, if Mario is jumping
                else if (state == 2) {
                
                    //If Mario is not swimming
                    if (!swimming) {
                    
                        //If Mario is doing a spinjump
                        if (stompstyle) {
                        
                            //If Mario does have the propeller suit
                            if (global.powerup == cs_propeller) {
                            
                                //Check if the 'Down' key is pressed
                                if ((yspeed &lt; 0)
                                || (keyboard_check(vk_down))) {
                                
                                    //Set the special spinning sprite
                                    sprite_index = scr_mario_spin2();
                                    
                                    //Animate it
                                    image_speed = 0.5;
                                }
                                else {
                                
                                    //Set the walking sprite
                                    sprite_index = scr_mario_walk();
                                    
                                    //Animate it
                                    image_speed = 0.2;
                                }
                            }
                            
                            //If Mario does have the cat suit
                            if (global.powerup == cs_cat) {
                            
                                //Check if the climbing is active
                                if (wallkick == 1) {
                                
                                    //Set the special spinning sprite
                                    sprite_index = spr_mario_cat_climb2;
                                    
                                    //Animate it
                                    
                                    if yspeed &lt;&gt; 0
                                    image_speed = 0.25;
                                    
                                    else {
                                    
                                        image_index = 0
                                        image_speed = 0
                                    }
                                }
                                else {
                                
                                    image_speed = 0
                                    
                                    //Set the appropiate sprite
                                    if (!run)
                                        sprite_index = scr_mario_jump();
                                    else
                                        sprite_index = scr_mario_runjump();
                                }
                            }
                            
                            //If Mario does not have the propeller or cat suit
                            else {
                            
                                //Set the spinning sprite
                                sprite_index = scr_mario_spin();
                                
                                //Animate it
                                image_speed = 0.5;
                            }
                        }
                        
                        //If Mario is not doing a spin jump
                        else {
                         
                            //If Mario does have the carrot powerup
                            if (global.powerup == cs_carrot) {
                            
                                //If Mario is moving up
                                if (yspeed &lt; 0)
                                    image_index = 0;
                                else {
                                
                                    if (floatnow &gt; 0)
                                        image_speed = 0.15;
                                    else {
                                    
                                        if (run)
                                            image_index = 0;
                                        else
                                            image_index = 1;
                                    }
                                }
                            }
                            
                            //Else, if Mario does have the bee powerup
                            else if (global.powerup == cs_bee) {
                            
                                //If Mario is moving down
                                if (yspeed &gt; 0)
                                    image_index = 1;
                                else {
                                
                                    if (floatnow &gt; 0)
                                        image_speed = 0.15;
                                    else if (yspeed &lt; -1.1)
                                        image_index = 0;
                                }
                            }
                            
                            //Otherwise, if Mario does not have any of the above powerups
                            else {
                            
                                //Do not animate
                                image_speed = 0;
                                
                                //If Mario does have the frog powerup
                                if (global.powerup == cs_frog)
                                    image_index = 2;
                                
                                //Otherwise, if Mario does not have the frog powerup
                                else {    
                            
                                    //...but set the appropiate frame
                                    if (yspeed &lt; 0) {
                                    
                                        if ((global.powerup == cs_leaf)
                                        || (global.powerup == cs_tanooki))
                                            image_index = 0+(wiggle/4);
                                        else
                                            image_index = 0;
                                    }
                                    else {
                                    
                                        //If Mario is running
                                        if (run)
                                            image_index = 0+(wiggle/4);
                                        else
                                            image_index = 1+(wiggle/4);
                                    }
                                }
                            }
                            
                            //Set the appropiate sprite
                            if (!run)
                                sprite_index = scr_mario_jump();
                            else
                                sprite_index = scr_mario_runjump();                        
                        }
                    }
                    
                    //Otherwise, if Mario is swimming
                    else if (swimming) {
                    
                        //If Mario does have either the frog or penguin powerups.
                        if (global.powerup == cs_frog)
                        || (global.powerup == cs_penguin) {
                        
                            //If Mario is swimming to the sides
                            if (swimtype == 0) {
                            
                                //Set up the sprite
                                sprite_index = scr_mario_swim();
                            
                                //...and animate it
                                if (xspeed == 0)
                                    image_speed = 0.1;
                                else
                                    image_speed = 0.1+(0.1*keyboard_check(vk_control));
                            }
                            
                            //Otherwise, if Mario is swimming upwards
                            else if (swimtype == 1) {
                            
                                //Set up the sprite
                                sprite_index = scr_mario_swim2();
                                
                                //Set the speed
                                if ((x != xprevious) || (y != yprevious))
                                    image_speed = 0.1+(0.1*keyboard_check(vk_control));
                                else
                                    image_speed = 0;
                            }
                            
                            //Otherwise, if Mario is swimming downwards
                            else if (swimtype == 2) {
                            
                                //Set up the sprite
                                sprite_index = scr_mario_swim3();
                                
                                //Set the speed
                                if ((x != xprevious) || (y != yprevious))
                                    image_speed = 0.1+(0.1*keyboard_check(vk_control));
                                else
                                    image_speed = 0;
                            }
                        }
                        
                        //Otherwise, if Mario does not have any of the above powerups
                        else {
                        
                            //Set up the sprite
                            sprite_index = scr_mario_swim();
                            
                            //Set the speed
                            if (yspeed &lt; 0)
                                image_speed = 0.15;
                            else {
                            
                                image_speed = 0;
                                image_index = 0;
                            }
                        }
                    }
                }
                
                //Otherwise, if Mario is climbing
                else if (state == 3) {
                
                    //Set up the sprite
                    sprite_index = scr_mario_climb();
                    
                    //Set the speed
                    if ((xspeed != 0) || (yspeed &lt; 0))
                        image_speed = 0.15;
                    else {
                    
                        image_speed = 0;
                        image_index = 0;
                    }
                }
            }
            
            //Otherwise, if Mario is kicking or throwing something
            else if (kicking &gt; 0) {
            
                //Set up the sprite
                sprite_index = scr_mario_kick();
                
                //Set the frame
                image_speed = 0;
                if ((kicking == 1) || (kicking == 3))
                    image_index = 0;
                else
                    image_index = 1;
            }
        }
        
        //Otherwise, if the player is sliding down a slope
        else if (sliding) {
        
            //If Mario does have the shell powerup
            if (global.powerup == cs_shell) {
            
                //If the sprite is not the sliding one
                if (sprite_index != scr_mario_slide()) {
                
                    //Set up the sprite
                    sprite_index = scr_mario_slide();
                    
                    //Set up the frame
                    if (image_index != 0)
                        image_index = 0;
                }
                
                //Animate
                image_speed = scr_inice() * 0.065+abs(xspeed)/7.5;
            }
            else {
                
                //Set up the sprite
                sprite_index = scr_mario_slide();
                
                //Do not animate
                image_speed = 0;
                image_index = 0;
            }
        }
    }
    
    //Otherwise, if Mario is carrying something over his head
    else if (holding == 1) {
    
        //Set up the sprite
        sprite_index = scr_mario_carry();
        
        //If Mario is not walking
        if (state == 0) {
        
            //Do not animate
            image_speed = 0;
            image_index = 0;
        }
        
        //Otherwise, if Mario is walking
        else if (state == 1) {
        
            //Set the animation speed
            image_speed = scr_inice() * 0.065+abs(xspeed)/7.5;
        }
        
        //Otherwise, if Mario is jumping
        else if (state == 2) {
        
            //If Mario does have either the carrot or bee powerup.
            if (global.powerup == cs_carrot) 
            || (global.powerup == cs_bee) {
            
                //If Mario is floating
                if (floatnow &gt; 0)
                    image_speed = 0.15;
                else {
                
                    image_speed = 0;
                    image_index = 0;
                }
            }
            
            //Otherwise, if Mario does have either the raccoon or tanooki powerup.
            else if (global.powerup == cs_leaf)
            || (global.powerup == cs_tanooki) {
            
                image_speed = 0;
                image_index = 0+(wiggle/4);
            }
            
            //Otherwise, do not animate
            else {
            
                image_speed = 0;
                image_index = 1;
            }
        }
    }
    
    //Otherwise, if Mario is holding something at his front
    else if (holding == 2) {
    
        //Set up the sprite
        sprite_index = scr_mario_hold();
        
        //If Mario is not walking
        if (state == 0) {
        
            //Do not animate
            image_speed = 0;
            image_index = 0;
        }
        
        //Otherwise, if Mario is walking
        else if (state == 1) {
        
            //Set the animation speed
            image_speed = scr_inice() * 0.065+abs(xspeed)/7.5;
        }
        
        //Otherwise, if Mario is jumping
        else if (state == 2) {
        
            //If Mario does have either the carrot or bee powerup.
            if (global.powerup == cs_carrot) 
            || (global.powerup == cs_bee) {
            
                //If Mario is floating
                if (floatnow &gt; 0)
                    image_speed = 0.15;
                else {
                
                    image_speed = 0;
                    image_index = 0;
                }
            }
            
            //Otherwise, if Mario does have either the raccoon or tanooki powerup.
            else if (global.powerup == cs_leaf)
            || (global.powerup == cs_tanooki) {
            
                image_speed = 0;
                image_index = 0+(wiggle/4);
            }
            
            //Otherwise, do not animate
            else {
            
                image_speed = 0;
                image_index = 1;
            }
        }
    }
    
    //Otherwise, if Mario is carrying a boomerang
    else if (holding == 3) {
    
        //Set up the sprite
        sprite_index = scr_mario_hold2();
        
        //If Mario is not walking
        if (state == 0) {
        
            //Do not animate
            image_speed = 0;
            image_index = 0;
        }
        
        //Otherwise, if Mario is walking
        else if (state == 1) {
        
            //Set the animation speed
            image_speed = scr_inice() * 0.065+abs(xspeed)/7.5;
        }
        
        //Otherwise, if Mario is jumping
        else if (state == 2) {
        
            //If Mario does have either the carrot or bee powerup.
            if (global.powerup == cs_carrot) 
            || (global.powerup == cs_bee) {
            
                //If Mario is floating
                if (floatnow &gt; 0)
                    image_speed = 0.15;
                else {
                
                    image_speed = 0;
                    image_index = 0;
                }
            }
            
            //Otherwise, if Mario does have either the raccoon or tanooki powerup.
            else if (global.powerup == cs_leaf)
            || (global.powerup == cs_tanooki) {
            
                image_speed = 0;
                image_index = 0+(wiggle/4);
            }
            
            //Otherwise, do not animate
            else {
            
                image_speed = 0;
                image_index = 1;
            }
        }
    }
    
    //Set the mask
    if (global.powerup == cs_small)
        mask_index = spr_mask;
    else {
    
        //If Mario does have the frog powerup.
        if (global.powerup == cs_frog) {
        
            if (holding &gt; 0)
                mask_index = spr_bigmask;
            else
                mask_index = spr_mask;
        }
        
        //Otherwise, if Mario does have the either the shell or penguin powerups.
        else if (global.powerup == cs_shell) 
        || (global.powerup == cs_penguin) {
        
            if (sliding)
                mask_index = spr_mask;
            else
                mask_index = spr_bigmask;
        }
        
        //Otherwise, set the default mask
        else
            mask_index = spr_bigmask;
    }
    
    //Stop the 'Skid' sound when not changing direction.
    if (sprite_index != scr_mario_skid())
    &amp;&amp; (audio_is_playing(snd_skid))
        audio_stop_sound(snd_skid);
}                  
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Make Mario do stuff when it's animation ends.

//If Mario is walking with the frog suit
if (sprite_index == spr_mario_frog_walk) {

    //Play 'Frog' sound
    audio_play_sound(snd_frog, 0, false);

    //If the horizontal speed is not equal to 0.
    if (xspeed &lt;&gt; 0)
        xspeed = 0;
}

//Otherwise, if Mario is floating with the either the carrot or bee powerup.
else if ((sprite_index == spr_mario_carrot_jump)
|| (sprite_index == spr_mario_bee_jump))
    image_index = 1;
    
//Otherwise, if Mario is sliding inside his shell.
else if (sprite_index == spr_mario_shell_slide)
    image_index = 2;
    
//Otherwise, if Mario is swimming with either the frog or penguin powerup.
else if ((sprite_index == spr_mario_frog_swim2) || (sprite_index == spr_mario_penguin_swim2))
|| ((sprite_index == spr_mario_frog_swim3) || (sprite_index == spr_mario_penguin_swim3))
|| ((sprite_index == spr_mario_frog_swim4) || (sprite_index == spr_mario_penguin_swim4)) {

    //Play 'Swim' sound
    audio_stop_sound(snd_swim);
    audio_play_sound(snd_swim, 0, false);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
